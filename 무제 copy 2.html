<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="/css/portfolio.min.css">
	<script src="https://code.jquery.com/jquery-latest.min.js"></script>

	<title>Document</title>
</head>

<body>

	<div class="card-popup modal" id="popupOne">
		<button class="btn-close">닫기버튼</button>
		<button class="btn-left">
			<img src="https://eap.co.kr/images/2022/btn_mainbanner_left_normal.svg">
		</button>
		<button class="btn-right">
			<img src="https://eap.co.kr/images/2022/btn_mainbanner_right_normal.svg">
		</button>
		<div class="slider">
			<div class="slider__item showing" style="background: #321c1c;">
			</div>
			<div class="slider__item" style="background: #ddd;">
			</div>
			<div class="slider__item" style="background: #4c7831;">
			</div>

		</div>
	</div>
	<style>
		.card-popup .slider {
			width: 100%;
			margin: 0 auto;
		}
	</style>
	<div class="card-popup modal" id="popupOne2">
		<button class="btn-close">닫기버튼</button>
		<button class="btn-left">
			<img src="https://eap.co.kr/images/2022/btn_mainbanner_left_normal.svg">
		</button>
		<button class="btn-right">
			<img src="https://eap.co.kr/images/2022/btn_mainbanner_right_normal.svg">
		</button>
		<div class="slider">
			<div class="slider__item showing" style="background: #317578;">
			</div>
			<div class="slider__item" style="background: #ddd;">
			</div>
			<div class="slider__item" style="background: #cb6b6b;">
			</div>

		</div>
	</div>
	<section class="modal overlay"></section>

	<section>
		<div>

			<div class="list-y list-y-on card card2022-2 sa sa-up">
				<a class="show-popup modalButton" name="popupOne" data-popup="popupOne">
					<dl>
						<dt>슬라이드 1</dt>
					</dl>
				</a>
			</div>

			<div class="list-y list-y-on card card2022-6 sa sa-up" data-sa-delay="800">
				<a class="show-popup modalButton" name="popupOne2" data-popup="popupOne2">
					<dl>
						<dt>슬라이드 2</dt>
					</dl>
				</a>
			</div>

		</div>

	</section>



	<script>
		const leftBtn = document.querySelector(".btn-left");
		const rightBtn = document.querySelector(".btn-right");

		const moveRight = function () {

			const currentSlide = currentSlidee.querySelector(`.${SHOWING_CLASS}`);
			if (currentSlide) {
				currentSlide.classList.remove(SHOWING_CLASS);
				const nextSlide = currentSlide.nextElementSibling;
				if (nextSlide) {
					nextSlide.classList.add(SHOWING_CLASS);
				} else {
					firstSlide.classList.add(SHOWING_CLASS);
				}
			} else {
				firstSlide.classList.add(SHOWING_CLASS);
			}
		}

		const moveLeft = function () {
			const currentSlide = document.querySelector(`.${SHOWING_CLASS}`);
			if (currentSlide) {
				currentSlide.classList.remove(SHOWING_CLASS);
				const prevSlide = currentSlide.previousElementSibling;
				if (prevSlide) {
					prevSlide.classList.add(SHOWING_CLASS);
				} else {
					lastSlide.classList.add(SHOWING_CLASS);
				}
			} else {
				firstSlide.classList.add(SHOWING_CLASS);
			}
		}

		leftBtn.addEventListener("click", moveLeft);
		rightBtn.addEventListener("click", moveRight);
	</script>




	<script>
		// const SHOWING_CLASS = "showing";

		// const slider = document.querySelector(".modal");
		// const sliderid = slider.attr("id"); //팝업창 id popupOne

		// const slider2 = document.querySelector(".modalButton");
		// const slidername = slider2.attr("name"); //a링크의 name popupOne

		// var strDataPopupName = $(this).attr(settings.objModalDataAttr);	
		// $("#" + strDataPopupName).querySelector(".slider__item:first-child");
		// $("#" + strDataPopupName).querySelector(".slider__item:last-child");



		// const firstSlide = document.querySelector(".slider__item:first-child");
		// const lastSlide = document.querySelector(".slider__item:last-child");

		// const slide = setInterval(function () { 

		// 	const currentSlide = document.querySelector(`.${SHOWING_CLASS}`);
		// 	// const currentSlide = document.querySelector("#slider .showing");

		// 	if (currentSlide) { // 만약 현재 슬라이드라면
		// 		currentSlide.classList.remove(SHOWING_CLASS); // 현재 슬라이드에서 SHOWING_CLASS를 제거한다
		// 		const nextSlide = currentSlide.nextElementSibling; // 다음 슬라이드를 정의한다.

		// 		if (nextSlide) { //만약 다음 슬라이드가 있다면
		// 			nextSlide.classList.add(SHOWING_CLASS); //다음 슬라이드에 SHOWING_CLASS를 붙인다.
		// 		} else { // 다음 슬라이드가 없다면 =>  5번째 슬라이드라면(마지막 슬라이드라면)
		// 			firstSlide.classList.add(SHOWING_CLASS); // 첫번째 슬라이드에 SHOWING_CLASS를 붙인다.
		// 		}

		// 	} else {
		// 		firstSlide.classList.add(SHOWING_CLASS);
		// 	}

		// }, 1000);



		settings = {
			objModalPopupBtn: ".modalButton",
			objModalCloseBtn: ".overlay, .btn-close",
			objModalDataAttr: "data-popup"
		}

		$(settings.objModalPopupBtn).bind("click", function () {
			if ($(this).attr(settings.objModalDataAttr)) {
				const strDataPopupName = $(this).attr(settings.objModalDataAttr);
				$(".overlay").fadeIn(170);
				$("#" + strDataPopupName).fadeIn(170);


				const SHOWING_CLASS = "showing";
				const firstSlide = $("#" + strDataPopupName).querySelector(".slider__item:last-child");
				const lastSlide = $("#" + strDataPopupName).querySelector(".slider__item:last-child");


				function slide(){
					const currentSlide = $("#" + strDataPopupName).querySelector(`.${SHOWING_CLASS}`);

					if (currentSlide) { // 만약 현재 슬라이드라면
						currentSlide.classList.remove(SHOWING_CLASS); // 현재 슬라이드에서 SHOWING_CLASS를 제거한다
						const nextSlide = currentSlide.nextElementSibling; // 다음 슬라이드를 정의한다.

						if (nextSlide) { //만약 다음 슬라이드가 있다면
							nextSlide.classList.add(SHOWING_CLASS); //다음 슬라이드에 SHOWING_CLASS를 붙인다.
						} else { // 다음 슬라이드가 없다면 =>  5번째 슬라이드라면(마지막 슬라이드라면)
							firstSlide.classList.add(SHOWING_CLASS); // 첫번째 슬라이드에 SHOWING_CLASS를 붙인다.
						}

					} else {
						firstSlide.classList.add(SHOWING_CLASS);
					}

				}
			}
		});


		$(document).ready(function () {

			$(".modalButton").click(function () {
				const name= $(this).attr(name);
				$("#" + name).fadeIn(170);
				const SHOWING_CLASS = "showing";
				const firstSlide = $("#" + name).querySelector(".slider__item:last-child");
				const lastSlide = $("#" + name).querySelector(".slider__item:last-child");
				const slide = setInterval(function () {
				const currentSlide = $("#" + name).querySelector(`.${SHOWING_CLASS}`);
				if (currentSlide) { // 만약 현재 슬라이드라면
					currentSlide.classList.remove(SHOWING_CLASS); // 현재 슬라이드에서 SHOWING_CLASS를 제거한다
					const nextSlide = currentSlide.nextElementSibling; // 다음 슬라이드를 정의한다.

					if (nextSlide) { //만약 다음 슬라이드가 있다면
						nextSlide.classList.add(SHOWING_CLASS); //다음 슬라이드에 SHOWING_CLASS를 붙인다.
					} else { // 다음 슬라이드가 없다면 =>  5번째 슬라이드라면(마지막 슬라이드라면)
						firstSlide.classList.add(SHOWING_CLASS); // 첫번째 슬라이드에 SHOWING_CLASS를 붙인다.
					}

				} else {
					firstSlide.classList.add(SHOWING_CLASS);
				}

				}, 1000);

		
			});
		});




		$(settings.objModalCloseBtn).bind("click", function () {
			$(".modal").fadeOut(90);
			clearInterval(slide);
		});
	</script>
</body>

</html>
